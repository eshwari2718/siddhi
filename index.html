<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>A Gift for My Bbg üíï‚Äî From Eshwari üíï</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#fff7fb;
    --bg2:#f7fbff;
    --accent1:#ffd6e8;
    --accent2:#dfe7ff;
    --pink:#ff7ab6;
    --soft:#ffdff0;
    --muted:#6b7280;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(1200px 600px at 10% 10%, #fff9fb 0%, transparent 10%),
                linear-gradient(135deg, #fffaf0 0%, #f3f7ff 50%, #fff 100%);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    overflow:hidden;
    color:#333;
  }

  /* page card */
  .card{
    width:100%;
    max-width:920px;
    border-radius:22px;
    padding:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
    box-shadow: 0 10px 40px rgba(100, 80, 120, 0.08);
    position:relative;
    overflow:visible;
  }

  h1{
    font-family:'Dancing Script', cursive;
    color:#ff5fa7;
    font-size:40px;
    margin:0 0 10px 0;
    text-align:center;
  }
  .sub{
    text-align:center;
    color:var(--muted);
    margin-bottom:20px;
    font-size:14px;
  }

  /* floating shapes background */
  .float-area{ position:absolute; inset:0; pointer-events:none; overflow:hidden; z-index:0; }
  .float {
    position:absolute;
    width:18px;
    height:18px;
    border-radius:50%;
    opacity:.9;
    transform: translate3d(0,0,0);
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.06));
    animation: floatUp linear infinite;
  }
  .float.star { width:12px; height:12px; clip-path: polygon(50% 0%,61% 35%,98% 35%,67% 57%,79% 91%,50% 70%,21% 91%,33% 57%,2% 35%,39% 35%); background: linear-gradient(180deg,#fff3f8,#fff7fb);}
  .float.puff { background: linear-gradient(180deg,#fff0f7,#ffeefb); }
  .float.blue { background: linear-gradient(180deg,#e8f0ff,#eaf6ff); }
  @keyframes floatUp {
    from { transform: translateY(30vh) scale(.9); opacity: 0; }
    20% { opacity: .9 }
    to { transform: translateY(-15vh) scale(1.05); opacity: 0; }
  }

  /* layout */
  .content {
    position:relative;
    z-index:2;
    display:grid;
    grid-template-columns: 1fr 430px;
    gap:24px;
    align-items:center;
  }

  /* left: box / gallery / envelope area */
  .stage {
    min-height:420px;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  /* gift box */
  .gift {
    width:260px;
    height:200px;
    border-radius:18px;
    background: linear-gradient(180deg,var(--accent1),#fff);
    box-shadow: 0 10px 30px rgba(200,150,200,0.12);
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    position:relative;
    transform-origin:center;
    transition: transform .25s ease;
  }
  .gift:hover{ transform: translateY(-6px) rotate(-1deg); }
  .gift .ribbon{
    position:absolute;
    width:100%;
    height:22px;
    top:50%;
    left:0;
    transform:translateY(-50%);
    background: linear-gradient(90deg, #ffd6f0, #ffd6d6);
  }
  .gift .label{
    position:absolute;
    bottom:18px;
    font-weight:600;
    color:#9b2d6f;
    letter-spacing:.2px;
  }
  /* top lid */
  .lid {
    position:absolute;
    top:-14px;
    width:90%;
    height:44px;
    background: linear-gradient(180deg,#ffdbe9,#ffd0e3);
    border-radius:12px;
    left:50%;
    transform:translateX(-50%);
    transform-origin: top center;
    box-shadow: 0 6px 14px rgba(200,150,200,0.12);
    transition: transform .8s cubic-bezier(.22,.9,.3,1);
  }
  .lid.open { transform: translateX(-50%) rotateX(170deg) translateY(-30px); }

  /* sparkles */
  .sparkles { position:absolute; inset:0; pointer-events:none; }
  .sparkles i{
    position:absolute;
    width:8px; height:8px; border-radius:2px;
    background:linear-gradient(180deg,#fff2ff,#ffeaef);
    opacity:.9; transform: rotate(25deg);
    animation: sparkle 1.8s linear infinite;
  }
  @keyframes sparkle {
    0%{ transform: translateY(0) scale(.8); opacity:0 }
    20%{ opacity:1; transform:translateY(-6px) scale(1.1) }
    100%{ transform: translateY(-30px) scale(.6); opacity:0 }
  }

  /* gallery */
  .gallery {
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
  }
  .photo-wrap {
    width:380px;
    height:320px;
    border-radius:16px;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg,#fff,#fffafc);
    box-shadow: 0 6px 20px rgba(120,90,140,0.06);
    position:relative;
  }
  .photo {
    width:100%;
    height:100%;
    object-fit:cover;
    transform: translateX(0);
    transition: transform .6s cubic-bezier(.2,.9,.25,1), opacity .5s;
  }
  .controls { display:flex; gap:10px; align-items:center; justify-content:center; margin-top:6px; }
  .btn {
    background:linear-gradient(180deg,#ffd9f0,#ffbdf0);
    border: none;
    color:#6b2160;
    font-weight:600;
    padding:10px 16px;
    border-radius:12px;
    cursor:pointer;
    box-shadow: 0 6px 12px rgba(250,150,200,0.12);
    transition: transform .15s ease;
  }
  .btn:active{ transform: translateY(2px) }
  .counter{ color:var(--muted); font-size:13px; }

  /* envelope area */
  .side {
    padding:18px;
    border-radius:12px;
    background: linear-gradient(180deg,#fff,#fffafc);
    box-shadow: 0 8px 30px rgba(80,60,100,0.04);
    display:flex;
    flex-direction:column;
    gap:16px;
    align-items:center;
    justify-content:center;
  }
  .envelope {
    width:260px;
    height:160px;
    border-radius:14px;
    background:linear-gradient(180deg,#fff6fb,#fffafc);
    position:relative;
    box-shadow: 0 8px 22px rgba(150,100,150,0.08);
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    overflow:visible;
  }
  .env-flap {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:58%;
    background: linear-gradient(180deg,#ffdff6,#fff2fd);
    border-radius:14px 14px 0 0;
    transform-origin: top center;
    transition: transform .9s cubic-bezier(.2,.9,.3,1);
    box-shadow: 0 6px 14px rgba(200,150,200,0.08);
  }
  .env-body {
    position:absolute;
    bottom:0;
    left:0;
    width:100%;
    height:62%;
    border-radius:0 0 14px 14px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:600;
    color:#6b2d6f;
  }
  .env-flap.open { transform: rotateX(180deg) translateY(-6px); }

  /* paper */
  .paper {
    width:88%;
    height:86%;
    background:linear-gradient(180deg,#ffffff,#fffefc);
    border-radius:10px;
    padding:14px;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    transform-origin:center;
    transform: translateY(10px) scale(.98);
    opacity:0;
    transition: transform .6s, opacity .5s;
    overflow:auto;
  }
  .paper.visible{ transform: translateY(0) scale(1); opacity:1; }

  /* typewriter text */
  .letter {
    font-size:14px; line-height:1.55;
    color:#3b2f3f; white-space:pre-wrap;
    font-family: 'Poppins', sans-serif;
  }
  .letter .cursor {
    display:inline-block;
    width:8px;
    height:14px;
    background:#6b2d6f;
    margin-left:6px;
    animation: blink .9s steps(1) infinite;
    vertical-align:middle;
  }
  @keyframes blink { 50%{ opacity:0 } }

  /* final confetti burst */
  .confetti {
    position:absolute;
    left:50%; top:50%;
    width:6px; height:12px;
    opacity:0;
    transform: translate(-50%,-50%);
    pointer-events:none;
  }

  /* responsive */
  @media (max-width:980px){
    .content{ grid-template-columns: 1fr; }
    .side{ order:2 }
    .gallery{ order:1 }
    .card{ padding:18px; }
    .photo-wrap{ width:100%; max-width:420px; height:300px }
  }
</style>
</head>
<body>

<div class="float-area" id="floatArea"></div>

<div class="card" role="main" aria-label="Eshwari's gift to My Bbgüíï">
  <h1>A Gift for My Bbgüíï</h1>
  <div class="sub">made with pastel vibes & lots of friendship love üíõ</div>

  <div class="content">
    <!-- left stage -->
    <div class="stage">
      <div id="leftInner" style="width:100%; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:16px;">

        <!-- Gift box -->
        <div class="gift" id="giftBox" aria-hidden="false" title="Click to open">
          <div class="lid" id="lid"></div>
          <div class="ribbon" aria-hidden="true"></div>
          <div class="sparkles" aria-hidden="true">
            <i style="left:20%; top:55%; animation-delay:.1s"></i>
            <i style="left:72%; top:28%; animation-delay:.4s"></i>
            <i style="left:46%; top:20%; animation-delay:.7s"></i>
            <i style="left:80%; top:68%; animation-delay:1.1s"></i>
          </div>
          <div class="label">Open Me üéÅ</div>
        </div>

        <!-- Gallery (hidden until box opened) -->
        <div class="gallery" id="gallery" style="display:none;">
          <div class="photo-wrap" id="photoWrap">
            <img id="photo" class="photo" src="photo1.jpg" alt="Photo 1">
          </div>

          <div class="controls" aria-hidden="false">
            <button class="btn" id="prevBtn">‚óÄ Prev</button>
            <div class="counter" id="counter">Photo 1 of 8</div>
            <button class="btn" id="nextBtn">Next ‚ñ∂</button>
          </div>
        </div>

        <!-- Envelope (hidden until last photo -> appears) -->
        <div id="envelopeArea" style="display:none; margin-top:6px;">
          <div class="envelope" id="envelope" title="Open the letter">
            <div class="env-flap" id="envFlap"></div>
            <div class="env-body">üíå Open Letter</div>
            <div class="paper" id="paper" role="article" aria-live="polite">
              <div class="letter" id="letterText"></div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- right side: stepping / info -->
    <aside class="side" aria-hidden="false">
      <div style="text-align:center">
        <strong style="color:#7b4b8f">How to use</strong>
        <div style="font-size:13px; color:var(--muted); margin-top:6px">
          Click the box ‚Üí view photos (Next) ‚Üí open the envelope to read the message.
        </div>
      </div>

      <div style="display:flex; gap:8px; align-items:center; justify-content:center; flex-direction:column;">
        <div style="font-size:13px; color:var(--muted)">Progress</div>
        <div id="progressBar" style="width:180px; height:10px; border-radius:999px; background:#ffeef9; overflow:hidden;">
          <div id="progressFill" style="height:100%; width:0%; background:linear-gradient(90deg,#ffd4f1,#dfe7ff)"></div>
        </div>
      </div>

      <div style="text-align:center; font-size:13px; color:var(--muted)">
        Made with care by Eshwari üíï
      </div>
    </aside>
  </div>
</div>

<!-- minimal JS -->
<script>
/* ----------------------------------------------------
   CONFIG
---------------------------------------------------- */
const photos = [
  'photo1.jpg','photo2.jpg','photo3.jpg','photo4.jpg',
  'photo5.jpg','photo6.jpg','photo7.jpg','photo8.jpg'
];

const MESSAGE = `TO THE GIRL WHO CAME IN MY LIFE UNEXPECTEDLYüíå

When i first met you,i had no idea i was going to get this attached. I feel like the luckiest Person on this planet because having you is a dream. The one who always wants you to be happy, the one who always stood by her friends, the one who will always make you feel like a family, the one whom you can count on and for me that always been YOU & YOU no matter what. And even if i could put words together to tell you these things it wouldn't come anywhere near to show you how much you meant to me. You are the most caring and loving person i have ever met, and i feel so lucky to be with you. I promise to always cherish and respect you, and to support you in all your dreams and goals. You have brought so much joy and happiness in my life you are the reason i smile everyday!! Know that I'm not always the best with word's ,but i want you to know how i feel: you are special to me you don't even know. I hate when you are hard on yourself because you don't deserve that kind of negativity. You deserve everything good and perfect and sweet i want to try my best to give that to you I'm not perfect by any means but i want to be perfect for you. You're the most special thing to me. Thankyou for being mine!!ü´Ç‚ù§Ô∏èüßø

I don't think I'll ever have the right words to fully express how much you mean to me but I'll try anyway.

Thankyou for showing up in my life and staying. For the laughter,the late night talks, the silent understanding and even the difficult conversations. Thankyou for being real with me and for reminding me that i matter-even on the days i forgot. You've taught me that love doesn't always come with fireworks it can also be quiet, patient and steady and that's exactly what you've been for me. You are not just someone i care about you're the person who changed the way i see the world and myself . So today i hope you feel just a fraction of the love you've given me. You deserve that and so much more. I hope this year brings you peace,joy, happiness and everything. I'm lucky i get to say i know you and even luckier that i get to love youü´∂üèª

And always remember you have my back no matter what!! I hope you know that every time i tell you i love you,I mean it with my entire soul and heart. I Love you so much Babyüíãüíå`;

/* ----------------------------------------------------
   DOM ELEMENTS
---------------------------------------------------- */
const giftBox = document.getElementById('giftBox');
const lid = document.getElementById('lid');
const gallery = document.getElementById('gallery');
const photoEl = document.getElementById('photo');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const counter = document.getElementById('counter');
const envelopeArea = document.getElementById('envelopeArea');
const envelope = document.getElementById('envelope');
const envFlap = document.getElementById('envFlap');
const paper = document.getElementById('paper');
const letterText = document.getElementById('letterText');
const progressFill = document.getElementById('progressFill');

/* ----------------------------------------------------
   STATE
---------------------------------------------------- */
let idx = 0;
let typing = false;

/* ----------------------------------------------------
   GIFT OPEN ANIMATION
---------------------------------------------------- */
giftBox.addEventListener('click', () => {
  lid.classList.add('open');
  giftBox.style.pointerEvents = 'none';

  setTimeout(() => {
    giftBox.style.display = 'none';
    gallery.style.display = 'flex';
    updateUI();
  }, 650);
});

/* ----------------------------------------------------
   GALLERY UPDATE
---------------------------------------------------- */
function updateUI(){
  photoEl.style.opacity = 0;
  photoEl.style.transform = 'translateX(15px) scale(.97)';

  setTimeout(() => {
    photoEl.src = photos[idx];
    counter.textContent = `Photo ${idx+1} of ${photos.length}`;
    progressFill.style.width = ((idx+1) / photos.length) * 100 + '%';

    photoEl.style.opacity = 1;
    photoEl.style.transform = 'translateX(0) scale(1)';

    if(idx === photos.length - 1){
      envelopeArea.style.display = 'block';
    } else {
      envelopeArea.style.display = 'none';
    }
  }, 200);
}

/* ----------------------------------------------------
   GALLERY CONTROLS
---------------------------------------------------- */
prevBtn.addEventListener('click', () => {
  if(idx > 0){
    idx--;
    updateUI();
  }
});

nextBtn.addEventListener('click', () => {
  if(idx < photos.length - 1){
    idx++;
    updateUI();
  } else {
    envelope.animate(
      [{ transform: 'scale(1)' }, { transform: 'scale(1.06)' }, { transform: 'scale(1)' }],
      { duration: 600 }
    );
  }
});

/* ----------------------------------------------------
   ENVELOPE OPENING + TYPEWRITER
---------------------------------------------------- */
envelope.addEventListener('click', () => {
  if(envFlap.classList.contains('open')) return;

  envFlap.classList.add('open');

  setTimeout(() => {
    paper.classList.add('visible');
    burstConfetti();
    startTypewriter(MESSAGE);
  }, 600);
});

/* ----------------------------------------------------
   TYPEWRITER EFFECT (FIXED & SAFER)
---------------------------------------------------- */
function startTypewriter(text){
  if(typing) return;
  typing = true;

  letterText.innerHTML = '';
  let i = 0;

  function nextChar(){
    if(i >= text.length){
      const c = letterText.querySelector('.cursor');
      if(c) c.remove();
      typing = false;
      return;
    }

    let ch = text[i++];
    if(ch === '\n'){
      letterText.innerHTML += '<br>';
    } else {
      letterText.innerHTML += escapeHtml(ch);
    }

    updateCursor();

    paper.scrollTop = paper.scrollHeight;

    let delay = 12;
    if([',',';'].includes(ch)) delay += 40;
    if(['.','!','?'].includes(ch)) delay += 160;
    if(ch === '\n') delay += 120;

    setTimeout(nextChar, delay);
  }

  nextChar();
}

function updateCursor(){
  const old = letterText.querySelector('.cursor');
  if(old) old.remove();
  const cursor = document.createElement('span');
  cursor.className = 'cursor';
  letterText.appendChild(cursor);
}

function escapeHtml(s){
  return s.replace(/[&<>]/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;'}[m]));
}

/* ----------------------------------------------------
   CONFETTI (MORE STABLE)
---------------------------------------------------- */
function burstConfetti(){
  const colors = ['#ffd6e8','#dfe7ff','#fff3d6','#d7ffe6','#ffd7b6'];

  for(let i=0; i<20; i++){
    const el = document.createElement('div');
    el.className = 'confetti';
    el.style.position = 'fixed';

    const size = 6 + Math.random()*8;
    el.style.width = size + 'px';
    el.style.height = (size * 1.4) + 'px';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];

    document.body.appendChild(el);

    const x = window.innerWidth / 2;
    const y = window.innerHeight / 2;
    const angle = Math.random() * Math.PI * 2;
    const distance = 80 + Math.random()*120;

    const dx = Math.cos(angle) * distance;
    const dy = Math.sin(angle) * distance;

    el.animate(
      [
        { transform: `translate(${x}px,${y}px)`, opacity: 1 },
        { transform: `translate(${x+dx}px,${y+dy}px) rotate(360deg)`, opacity: 0 }
      ],
      { duration: 1200 + Math.random()*600, easing: "cubic-bezier(.3,.7,.3,1)" }
    );

    setTimeout(() => el.remove(), 2000);
  }
}

/* ----------------------------------------------------
   FLOATING SHAPES (NO OVERFLOW ERRORS)
---------------------------------------------------- */
(function spawnFloaters(){
  const area = document.getElementById('floatArea');
  const colors = ['#ffd6e8','#dfe7ff','#fff3d6','#d7ffe6'];

  for(let i = 0; i < 16; i++){
    const el = document.createElement('div');
    el.className = 'float star';
    const size = 16 + Math.random()*25;
    el.style.width = size + 'px';
    el.style.height = size + 'px';
    el.style.left = Math.random()*100 + '%';
    el.style.top = (70 + Math.random()*25) + '%';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.animationDuration = (6 + Math.random()*10) + 's';
    el.style.animationDelay = (Math.random()*3) + 's';
    area.appendChild(el);
  }
})();
</script>


</body>
</html>
